{% extends "base.html" %}

{% block title %}Discover{% endblock %}


{% block content %}

    <h1> This is page where you discover stuff</h1>

    <!-- Toggle Button -->
    <button
      onclick="
        const fc = document.getElementById('first-column');
        const grid = document.getElementById('main-grid');
        fc.classList.toggle('hidden');
        grid.classList.toggle('grid-cols-2');
        grid.classList.toggle('grid-cols-1');
      "
      class="mb-4 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700">
      <<
    </button>

    <!-- Grid with 2 columns and 4 rows in the first column -->
    <div id="main-grid" class="grid grid-cols-2 gap-4">
          <div id="first-column" class="grid grid-rows-4 gap-2">

              <!-- ingredients -->
            <div class="bg-red-200 p-4 grid grid-cols-2 grid-rows-1">
                <div class="relative">
                    <span>Ingredients</span>
                </div>

                <div class="relative">
                        {% include "components/searchbar.html" with input_name="search_term" placeholder="Search ingredient..." action="/search/" %}
                </div>

                <!-- Spinner element (initially hidden) -->
                <div id="spinner" class="hidden text-center my-4" aria-hidden="true">
                  <svg class="animate-spin h-6 w-6 text-blue-600 mx-auto" xmlns="http://www.w3.org/2000/svg" fill="none"
                       viewBox="0 0 24 24" stroke="currentColor">
                    <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                    <path class="opacity-75" fill="currentColor"
                          d="M4 12a8 8 0 018-8v4l3-3-3-3v4a8 8 0 11-8 8z"></path>
                  </svg>
                </div>

                <!-- Content placeholder (updates itself with hx-get) -->
                <div
                  hx-get="{% url 'get_tags' %}"
                  hx-trigger="load"
                  hx-target="this"
                  hx-swap="innerHTML"
                  hx-indicator="#spinner"
                >
                  Loading content...
                </div>
            </div>

              <!-- Tags -->
            <div class="bg-red-300 p-4 grid grid-cols-2">
                <div class="relative">
                    <span>Tags</span>
                </div>

                <div class="relative">
                    <form method="get" class="w-full max-w-md mx-auto">
                        {% include "components/searchbar.html" with input_name="search_term" placeholder="Search tag..." action="/search/" %}
                    </form>
                </div>
            </div>

              <!-- Bookmarks -->
            <div class="bg-red-400 p-4 grid grid-cols-2">
                <div class="relative">
                    <span>Bookmarked Recipes</span>
                </div>

                <div class="relative">
                    {% include "components/searchbar.html" with input_name="search_term" placeholder="Search recipes..." action="/search/" %}
                </div>
            </div>

              <!-- Gamble -->
            <div class="bg-red-500 p-4">
                <div class="relative">
                    <span>Free Selection</span>
                </div>
            </div>
          </div>

          <!-- Second Column -->
          <div class="bg-blue-200 p-4">
            Second Column
        </div>
    </div>

{% endblock %}
